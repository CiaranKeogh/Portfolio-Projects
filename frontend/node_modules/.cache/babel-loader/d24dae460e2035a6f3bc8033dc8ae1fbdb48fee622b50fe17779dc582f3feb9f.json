{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ciaran\\\\Documents\\\\War Thunder Tactics\\\\frontend\\\\src\\\\pages\\\\CreatePosition.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Container, Typography, Paper, Button, TextField, FormControl, InputLabel, Select, MenuItem, FormHelperText, Grid, CircularProgress, Alert, Stepper, Step, StepLabel, Slider } from '@mui/material';\nimport { Save as SaveIcon, ArrowBack as ArrowBackIcon, ArrowForward as ArrowForwardIcon } from '@mui/icons-material';\nimport { createPosition } from '../services/positionService';\nimport { getMaps } from '../services/mapService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst positionTypes = ['Sniping Spot', 'Cover Position', 'Ambush Point', 'Capping Position', 'Artillery Position', 'Other'];\nconst vehicleTypes = ['Light Tank', 'Medium Tank', 'Heavy Tank', 'Tank Destroyer', 'SPAA', 'Any'];\nconst gameModes = ['Domination', 'Conquest', 'Battle', 'Break', 'Any'];\nconst CreatePosition = () => {\n  _s();\n  const navigate = useNavigate();\n  const [activeStep, setActiveStep] = useState(0);\n  const [maps, setMaps] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [positionData, setPositionData] = useState({\n    title: '',\n    description: '',\n    mapId: '',\n    gameMode: '',\n    type: '',\n    vehicleType: '',\n    effectiveness: 3,\n    coordinates: {\n      x: 0,\n      y: 0\n    }\n  });\n  const [formErrors, setFormErrors] = useState({});\n\n  // Fetch available maps\n  useEffect(() => {\n    const fetchMaps = async () => {\n      try {\n        setLoading(true);\n        const data = await getMaps();\n        setMaps(data || []);\n      } catch (err) {\n        console.error('Error fetching maps:', err);\n        setError('Failed to load maps. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMaps();\n  }, []);\n  const validateStep = step => {\n    const errors = {};\n    switch (step) {\n      case 0:\n        // Basic Info\n        if (!positionData.title.trim()) {\n          errors.title = 'Title is required';\n        }\n        if (!positionData.description.trim()) {\n          errors.description = 'Description is required';\n        }\n        if (!positionData.mapId) {\n          errors.mapId = 'Map selection is required';\n        }\n        break;\n      case 1:\n        // Details\n        if (!positionData.gameMode) {\n          errors.gameMode = 'Game mode is required';\n        }\n        if (!positionData.type) {\n          errors.type = 'Position type is required';\n        }\n        if (!positionData.vehicleType) {\n          errors.vehicleType = 'Vehicle type is required';\n        }\n        break;\n      case 2:\n        // Position Selection\n        if (positionData.coordinates.x === 0 && positionData.coordinates.y === 0) {\n          errors.coordinates = 'Position must be selected on the map';\n        }\n        break;\n      default:\n        break;\n    }\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleNext = () => {\n    if (validateStep(activeStep)) {\n      setActiveStep(prevActiveStep => prevActiveStep + 1);\n    }\n  };\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPositionData({\n      ...positionData,\n      [name]: value\n    });\n\n    // Clear error for this field\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: ''\n      });\n    }\n  };\n  const handleEffectivenessChange = (event, newValue) => {\n    setPositionData({\n      ...positionData,\n      effectiveness: newValue\n    });\n  };\n  const handleSubmit = async () => {\n    // Validate all steps before submission\n    for (let i = 0; i <= 2; i++) {\n      if (!validateStep(i)) {\n        setActiveStep(i);\n        return;\n      }\n    }\n    try {\n      setSubmitting(true);\n      setError('');\n\n      // Add creator info (would come from auth context in a real app)\n      const positionToSubmit = {\n        ...positionData,\n        creator: {\n          _id: 'user1',\n          username: 'CurrentUser'\n        }\n      };\n      const newPosition = await createPosition(positionToSubmit);\n      navigate(`/positions/${newPosition._id}`);\n    } catch (err) {\n      console.error('Error creating position:', err);\n      setError('Failed to create position. Please try again later.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Mock function for position selection - in a real app this would use a map library\n  const selectPosition = () => {\n    // This is a simplified example - in a real app, this would come from clicking on a map\n    const newCoordinates = {\n      x: Math.floor(Math.random() * 200) + 50,\n      y: Math.floor(Math.random() * 200) + 50\n    };\n    setPositionData({\n      ...positionData,\n      coordinates: newCoordinates\n    });\n\n    // Clear coordinate error if it exists\n    if (formErrors.coordinates) {\n      setFormErrors({\n        ...formErrors,\n        coordinates: ''\n      });\n    }\n  };\n  const getStepContent = step => {\n    switch (step) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Basic Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"title\",\n            label: \"Position Title\",\n            name: \"title\",\n            value: positionData.title,\n            onChange: handleChange,\n            error: !!formErrors.title,\n            helperText: formErrors.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"description\",\n            label: \"Position Description\",\n            name: \"description\",\n            multiline: true,\n            rows: 4,\n            value: positionData.description,\n            onChange: handleChange,\n            error: !!formErrors.description,\n            helperText: formErrors.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!formErrors.mapId,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"map-select-label\",\n              children: \"Map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"map-select-label\",\n              id: \"mapId\",\n              name: \"mapId\",\n              value: positionData.mapId,\n              onChange: handleChange,\n              label: \"Map\",\n              children: maps.map(map => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: map._id,\n                children: map.name\n              }, map._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), formErrors.mapId && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: formErrors.mapId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Position Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!formErrors.type,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"type-select-label\",\n              children: \"Position Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"type-select-label\",\n              id: \"type\",\n              name: \"type\",\n              value: positionData.type,\n              onChange: handleChange,\n              label: \"Position Type\",\n              children: positionTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: type,\n                children: type\n              }, type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), formErrors.type && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: formErrors.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!formErrors.gameMode,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"gamemode-select-label\",\n              children: \"Game Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"gamemode-select-label\",\n              id: \"gameMode\",\n              name: \"gameMode\",\n              value: positionData.gameMode,\n              onChange: handleChange,\n              label: \"Game Mode\",\n              children: gameModes.map(mode => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: mode,\n                children: mode\n              }, mode, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), formErrors.gameMode && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: formErrors.gameMode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!formErrors.vehicleType,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"vehicletype-select-label\",\n              children: \"Best Vehicle Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"vehicletype-select-label\",\n              id: \"vehicleType\",\n              name: \"vehicleType\",\n              value: positionData.vehicleType,\n              onChange: handleChange,\n              label: \"Best Vehicle Type\",\n              children: vehicleTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: type,\n                children: type\n              }, type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), formErrors.vehicleType && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: formErrors.vehicleType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              id: \"effectiveness-slider\",\n              gutterBottom: true,\n              children: \"Effectiveness Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: positionData.effectiveness,\n              onChange: handleEffectivenessChange,\n              \"aria-labelledby\": \"effectiveness-slider\",\n              valueLabelDisplay: \"auto\",\n              step: 0.5,\n              marks: true,\n              min: 1,\n              max: 5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              sx: {\n                mt: 1\n              },\n              children: positionData.effectiveness < 2 ? 'Not very effective' : positionData.effectiveness < 3 ? 'Somewhat effective' : positionData.effectiveness < 4 ? 'Moderately effective' : positionData.effectiveness < 5 ? 'Very effective' : 'Extremely effective'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Select Position\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              height: 400,\n              bgcolor: 'grey.100',\n              borderRadius: 1,\n              mb: 3,\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'center',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: \"Map interface would be displayed here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: selectPosition,\n              children: \"Set Position (Simulated)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), formErrors.coordinates && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            sx: {\n              mb: 2\n            },\n            children: formErrors.coordinates\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2\n            },\n            variant: \"outlined\",\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              children: \"Selected Position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), positionData.coordinates.x !== 0 || positionData.coordinates.y !== 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: [\"Coordinates: X: \", positionData.coordinates.x, \", Y: \", positionData.coordinates.y]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              children: \"No position selected yet. Click on the map to select a position.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this);\n      default:\n        return 'Unknown step';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"70vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4,\n      mb: 8\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: {\n          xs: 2,\n          md: 4\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Add Power Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 3\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Stepper, {\n        activeStep: activeStep,\n        sx: {\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Step, {\n          children: /*#__PURE__*/_jsxDEV(StepLabel, {\n            children: \"Basic Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          children: /*#__PURE__*/_jsxDEV(StepLabel, {\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          children: /*#__PURE__*/_jsxDEV(StepLabel, {\n            children: \"Select Position\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), getStepContent(activeStep), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          disabled: activeStep === 0,\n          onClick: handleBack,\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 24\n          }, this),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            onClick: () => navigate('/positions'),\n            sx: {\n              mr: 1\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), activeStep === 2 ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleSubmit,\n            disabled: submitting,\n            startIcon: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 74\n            }, this),\n            children: submitting ? 'Saving...' : 'Save Position'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleNext,\n            endIcon: /*#__PURE__*/_jsxDEV(ArrowForwardIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 26\n            }, this),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 432,\n    columnNumber: 5\n  }, this);\n};\n_s(CreatePosition, \"/nvEgCMYlFhGvOv6B8HgqDNYkN8=\", false, function () {\n  return [useNavigate];\n});\n_c = CreatePosition;\nexport default CreatePosition;\nvar _c;\n$RefreshReg$(_c, \"CreatePosition\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Box","Container","Typography","Paper","Button","TextField","FormControl","InputLabel","Select","MenuItem","FormHelperText","Grid","CircularProgress","Alert","Stepper","Step","StepLabel","Slider","Save","SaveIcon","ArrowBack","ArrowBackIcon","ArrowForward","ArrowForwardIcon","createPosition","getMaps","jsxDEV","_jsxDEV","positionTypes","vehicleTypes","gameModes","CreatePosition","_s","navigate","activeStep","setActiveStep","maps","setMaps","loading","setLoading","submitting","setSubmitting","error","setError","positionData","setPositionData","title","description","mapId","gameMode","type","vehicleType","effectiveness","coordinates","x","y","formErrors","setFormErrors","fetchMaps","data","err","console","validateStep","step","errors","trim","Object","keys","length","handleNext","prevActiveStep","handleBack","handleChange","e","name","value","target","handleEffectivenessChange","event","newValue","handleSubmit","i","positionToSubmit","creator","_id","username","newPosition","selectPosition","newCoordinates","Math","floor","random","getStepContent","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","margin","required","fullWidth","id","label","onChange","helperText","multiline","rows","labelId","map","mode","sx","mt","valueLabelDisplay","marks","min","max","color","height","bgcolor","borderRadius","mb","display","flexDirection","justifyContent","alignItems","onClick","severity","p","minHeight","maxWidth","xs","md","component","disabled","startIcon","mr","size","endIcon","_c","$RefreshReg$"],"sources":["C:/Users/Ciaran/Documents/War Thunder Tactics/frontend/src/pages/CreatePosition.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Button,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText,\r\n  Grid,\r\n  CircularProgress,\r\n  Alert,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Slider,\r\n} from '@mui/material';\r\nimport {\r\n  Save as SaveIcon,\r\n  ArrowBack as ArrowBackIcon,\r\n  ArrowForward as ArrowForwardIcon,\r\n} from '@mui/icons-material';\r\nimport { createPosition } from '../services/positionService';\r\nimport { getMaps } from '../services/mapService';\r\n\r\nconst positionTypes = [\r\n  'Sniping Spot',\r\n  'Cover Position',\r\n  'Ambush Point',\r\n  'Capping Position',\r\n  'Artillery Position',\r\n  'Other',\r\n];\r\n\r\nconst vehicleTypes = [\r\n  'Light Tank',\r\n  'Medium Tank',\r\n  'Heavy Tank',\r\n  'Tank Destroyer',\r\n  'SPAA',\r\n  'Any',\r\n];\r\n\r\nconst gameModes = [\r\n  'Domination',\r\n  'Conquest',\r\n  'Battle',\r\n  'Break',\r\n  'Any',\r\n];\r\n\r\nconst CreatePosition = () => {\r\n  const navigate = useNavigate();\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [maps, setMaps] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [positionData, setPositionData] = useState({\r\n    title: '',\r\n    description: '',\r\n    mapId: '',\r\n    gameMode: '',\r\n    type: '',\r\n    vehicleType: '',\r\n    effectiveness: 3,\r\n    coordinates: { x: 0, y: 0 },\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  // Fetch available maps\r\n  useEffect(() => {\r\n    const fetchMaps = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await getMaps();\r\n        setMaps(data || []);\r\n      } catch (err) {\r\n        console.error('Error fetching maps:', err);\r\n        setError('Failed to load maps. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchMaps();\r\n  }, []);\r\n  \r\n  const validateStep = (step) => {\r\n    const errors = {};\r\n    \r\n    switch (step) {\r\n      case 0: // Basic Info\r\n        if (!positionData.title.trim()) {\r\n          errors.title = 'Title is required';\r\n        }\r\n        if (!positionData.description.trim()) {\r\n          errors.description = 'Description is required';\r\n        }\r\n        if (!positionData.mapId) {\r\n          errors.mapId = 'Map selection is required';\r\n        }\r\n        break;\r\n        \r\n      case 1: // Details\r\n        if (!positionData.gameMode) {\r\n          errors.gameMode = 'Game mode is required';\r\n        }\r\n        if (!positionData.type) {\r\n          errors.type = 'Position type is required';\r\n        }\r\n        if (!positionData.vehicleType) {\r\n          errors.vehicleType = 'Vehicle type is required';\r\n        }\r\n        break;\r\n        \r\n      case 2: // Position Selection\r\n        if (positionData.coordinates.x === 0 && positionData.coordinates.y === 0) {\r\n          errors.coordinates = 'Position must be selected on the map';\r\n        }\r\n        break;\r\n        \r\n      default:\r\n        break;\r\n    }\r\n    \r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n  \r\n  const handleNext = () => {\r\n    if (validateStep(activeStep)) {\r\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    }\r\n  };\r\n  \r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n  \r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPositionData({\r\n      ...positionData,\r\n      [name]: value,\r\n    });\r\n    \r\n    // Clear error for this field\r\n    if (formErrors[name]) {\r\n      setFormErrors({\r\n        ...formErrors,\r\n        [name]: '',\r\n      });\r\n    }\r\n  };\r\n  \r\n  const handleEffectivenessChange = (event, newValue) => {\r\n    setPositionData({\r\n      ...positionData,\r\n      effectiveness: newValue,\r\n    });\r\n  };\r\n  \r\n  const handleSubmit = async () => {\r\n    // Validate all steps before submission\r\n    for (let i = 0; i <= 2; i++) {\r\n      if (!validateStep(i)) {\r\n        setActiveStep(i);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    try {\r\n      setSubmitting(true);\r\n      setError('');\r\n      \r\n      // Add creator info (would come from auth context in a real app)\r\n      const positionToSubmit = {\r\n        ...positionData,\r\n        creator: { _id: 'user1', username: 'CurrentUser' },\r\n      };\r\n      \r\n      const newPosition = await createPosition(positionToSubmit);\r\n      navigate(`/positions/${newPosition._id}`);\r\n    } catch (err) {\r\n      console.error('Error creating position:', err);\r\n      setError('Failed to create position. Please try again later.');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n  \r\n  // Mock function for position selection - in a real app this would use a map library\r\n  const selectPosition = () => {\r\n    // This is a simplified example - in a real app, this would come from clicking on a map\r\n    const newCoordinates = {\r\n      x: Math.floor(Math.random() * 200) + 50,\r\n      y: Math.floor(Math.random() * 200) + 50,\r\n    };\r\n    \r\n    setPositionData({\r\n      ...positionData,\r\n      coordinates: newCoordinates,\r\n    });\r\n    \r\n    // Clear coordinate error if it exists\r\n    if (formErrors.coordinates) {\r\n      setFormErrors({\r\n        ...formErrors,\r\n        coordinates: '',\r\n      });\r\n    }\r\n  };\r\n  \r\n  const getStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Basic Information\r\n            </Typography>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"title\"\r\n              label=\"Position Title\"\r\n              name=\"title\"\r\n              value={positionData.title}\r\n              onChange={handleChange}\r\n              error={!!formErrors.title}\r\n              helperText={formErrors.title}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"description\"\r\n              label=\"Position Description\"\r\n              name=\"description\"\r\n              multiline\r\n              rows={4}\r\n              value={positionData.description}\r\n              onChange={handleChange}\r\n              error={!!formErrors.description}\r\n              helperText={formErrors.description}\r\n            />\r\n            <FormControl fullWidth margin=\"normal\" error={!!formErrors.mapId}>\r\n              <InputLabel id=\"map-select-label\">Map</InputLabel>\r\n              <Select\r\n                labelId=\"map-select-label\"\r\n                id=\"mapId\"\r\n                name=\"mapId\"\r\n                value={positionData.mapId}\r\n                onChange={handleChange}\r\n                label=\"Map\"\r\n              >\r\n                {maps.map(map => (\r\n                  <MenuItem key={map._id} value={map._id}>\r\n                    {map.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {formErrors.mapId && <FormHelperText>{formErrors.mapId}</FormHelperText>}\r\n            </FormControl>\r\n          </Box>\r\n        );\r\n        \r\n      case 1:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Position Details\r\n            </Typography>\r\n            <FormControl fullWidth margin=\"normal\" error={!!formErrors.type}>\r\n              <InputLabel id=\"type-select-label\">Position Type</InputLabel>\r\n              <Select\r\n                labelId=\"type-select-label\"\r\n                id=\"type\"\r\n                name=\"type\"\r\n                value={positionData.type}\r\n                onChange={handleChange}\r\n                label=\"Position Type\"\r\n              >\r\n                {positionTypes.map(type => (\r\n                  <MenuItem key={type} value={type}>\r\n                    {type}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {formErrors.type && <FormHelperText>{formErrors.type}</FormHelperText>}\r\n            </FormControl>\r\n            \r\n            <FormControl fullWidth margin=\"normal\" error={!!formErrors.gameMode}>\r\n              <InputLabel id=\"gamemode-select-label\">Game Mode</InputLabel>\r\n              <Select\r\n                labelId=\"gamemode-select-label\"\r\n                id=\"gameMode\"\r\n                name=\"gameMode\"\r\n                value={positionData.gameMode}\r\n                onChange={handleChange}\r\n                label=\"Game Mode\"\r\n              >\r\n                {gameModes.map(mode => (\r\n                  <MenuItem key={mode} value={mode}>\r\n                    {mode}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {formErrors.gameMode && <FormHelperText>{formErrors.gameMode}</FormHelperText>}\r\n            </FormControl>\r\n            \r\n            <FormControl fullWidth margin=\"normal\" error={!!formErrors.vehicleType}>\r\n              <InputLabel id=\"vehicletype-select-label\">Best Vehicle Type</InputLabel>\r\n              <Select\r\n                labelId=\"vehicletype-select-label\"\r\n                id=\"vehicleType\"\r\n                name=\"vehicleType\"\r\n                value={positionData.vehicleType}\r\n                onChange={handleChange}\r\n                label=\"Best Vehicle Type\"\r\n              >\r\n                {vehicleTypes.map(type => (\r\n                  <MenuItem key={type} value={type}>\r\n                    {type}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {formErrors.vehicleType && <FormHelperText>{formErrors.vehicleType}</FormHelperText>}\r\n            </FormControl>\r\n            \r\n            <Box sx={{ mt: 4 }}>\r\n              <Typography id=\"effectiveness-slider\" gutterBottom>\r\n                Effectiveness Rating\r\n              </Typography>\r\n              <Slider\r\n                value={positionData.effectiveness}\r\n                onChange={handleEffectivenessChange}\r\n                aria-labelledby=\"effectiveness-slider\"\r\n                valueLabelDisplay=\"auto\"\r\n                step={0.5}\r\n                marks\r\n                min={1}\r\n                max={5}\r\n              />\r\n              <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mt: 1 }}>\r\n                {positionData.effectiveness < 2\r\n                  ? 'Not very effective'\r\n                  : positionData.effectiveness < 3\r\n                  ? 'Somewhat effective'\r\n                  : positionData.effectiveness < 4\r\n                  ? 'Moderately effective'\r\n                  : positionData.effectiveness < 5\r\n                  ? 'Very effective'\r\n                  : 'Extremely effective'}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        );\r\n        \r\n      case 2:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Select Position\r\n            </Typography>\r\n            \r\n            {/* Map would be here in a real app */}\r\n            <Box \r\n              sx={{ \r\n                height: 400, \r\n                bgcolor: 'grey.100', \r\n                borderRadius: 1, \r\n                mb: 3, \r\n                display: 'flex', \r\n                flexDirection: 'column',\r\n                justifyContent: 'center', \r\n                alignItems: 'center' \r\n              }}\r\n            >\r\n              <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                Map interface would be displayed here\r\n              </Typography>\r\n              <Button variant=\"contained\" onClick={selectPosition}>\r\n                Set Position (Simulated)\r\n              </Button>\r\n            </Box>\r\n            \r\n            {formErrors.coordinates && (\r\n              <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n                {formErrors.coordinates}\r\n              </Alert>\r\n            )}\r\n            \r\n            <Paper sx={{ p: 2 }} variant=\"outlined\">\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                Selected Position\r\n              </Typography>\r\n              {positionData.coordinates.x !== 0 || positionData.coordinates.y !== 0 ? (\r\n                <Typography variant=\"body1\">\r\n                  Coordinates: X: {positionData.coordinates.x}, Y: {positionData.coordinates.y}\r\n                </Typography>\r\n              ) : (\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  No position selected yet. Click on the map to select a position.\r\n                </Typography>\r\n              )}\r\n            </Paper>\r\n          </Box>\r\n        );\r\n        \r\n      default:\r\n        return 'Unknown step';\r\n    }\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"70vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 4, mb: 8 }}>\r\n      <Paper sx={{ p: { xs: 2, md: 4 } }}>\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n          Add Power Position\r\n        </Typography>\r\n        \r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n        \r\n        <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\r\n          <Step>\r\n            <StepLabel>Basic Info</StepLabel>\r\n          </Step>\r\n          <Step>\r\n            <StepLabel>Details</StepLabel>\r\n          </Step>\r\n          <Step>\r\n            <StepLabel>Select Position</StepLabel>\r\n          </Step>\r\n        </Stepper>\r\n        \r\n        {getStepContent(activeStep)}\r\n        \r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\r\n          <Button\r\n            color=\"inherit\"\r\n            disabled={activeStep === 0}\r\n            onClick={handleBack}\r\n            startIcon={<ArrowBackIcon />}\r\n          >\r\n            Back\r\n          </Button>\r\n          \r\n          <Box>\r\n            <Button\r\n              color=\"inherit\"\r\n              onClick={() => navigate('/positions')}\r\n              sx={{ mr: 1 }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            \r\n            {activeStep === 2 ? (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleSubmit}\r\n                disabled={submitting}\r\n                startIcon={submitting ? <CircularProgress size={24} /> : <SaveIcon />}\r\n              >\r\n                {submitting ? 'Saving...' : 'Save Position'}\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleNext}\r\n                endIcon={<ArrowForwardIcon />}\r\n              >\r\n                Next\r\n              </Button>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CreatePosition; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}